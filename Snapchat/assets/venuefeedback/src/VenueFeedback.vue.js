"use strict";var __extends=this&&this.__extends||function(){var n=function(e,t){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)if(t.hasOwnProperty(i))e[i]=t[i]};return n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(exports,"__esModule",{value:true});var Strings_1=require("./Strings");exports.Strings=Strings_1.default;var Composer_1=require("Composer");var Device=require("Device");var VenueFeedbackView=function(t){__extends(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.ConstOtherPlace="otherPlace";e.ConstOtherSpelling="otherSpelling";e.ConstPlaceClosed="placeClosed";e.ConstPlaceOffensive="placeOffensive";e.ConstPageMain="main";e.ConstPageEdit="edit";e.topPadding=0;e.options=null;e.selectedPage=e.ConstPageMain;e.selectedOption="";e.selectedValue="";e.canSubmit=false;e.displayInsetObserver=null;return e}e.prototype.onCreate=function(){var e=this;this.onDisplayInsetsDidChange();this.displayInsetObserver=Device.observeDisplayInsetChange(function(){e.onDisplayInsetsDidChange()})};e.prototype.onOptionTapped=function(e,t){this.canSubmit=true;if(!this.viewModel.isSubmitting){this.selectedOption=e;this.selectedValue=t;this.render()}};e.prototype.onSubmitTapped=function(){if(this.selectedOption===""){return}if(this.selectedOption===this.ConstOtherSpelling&&this.selectedValue===this.viewModel.selectedVenueName){return}if(this.selectedOption===this.ConstOtherSpelling&&this.selectedValue===""){this.selectedPage=this.ConstPageEdit;this.canSubmit=false;this.render()}else{this.viewModel.isSubmitting=true;this.render();this.actions.didSubmitFeedback(this.selectedOption,this.selectedValue)}};e.prototype.onTitleChanged=function(e){this.selectedValue=e.text;this.canSubmit=e.text!==this.viewModel.selectedVenueName;this.render()};e.prototype.onDisplayInsetsDidChange=function(){if(Device.getSystemType()==="android"){this.topPadding=Device.getDisplayTopInset();this.render()}};return e}(Composer_1.Component);exports.VenueFeedbackView=VenueFeedbackView;
